@{
    ViewData["Title"] = "Dashboard";
    var role = ViewBag.Role as string;
    var name = Context.Session.GetString("UserName");
}

<h2 class="mb-4">Welcome @name</h2>

@if (role == "Admin")
{
    <div class="row">
        <div class="col-md-4">
            <div class="card shadow mb-3">
                <div class="card-body">
                    <h5 class="card-title">Manage Users</h5>
                    <p>Add Customer Support & Technicians</p>
                    <a href="/Users/Create" class="btn btn-primary">Add User</a>
                </div>
            </div>
        </div>

        <div class="col-md-4">
            <div class="card shadow mb-3">
                <div class="card-body">
                    <h5 class="card-title">Ticket Categories</h5>
                    <p>Manage issue categories</p>
                    <a href="/TicketCategories" class="btn btn-dark">View Categories</a>
                </div>
            </div>
        </div>

        <div class="col-md-4">
            <div class="card shadow mb-3">
                <div class="card-body">
                    <h5 class="card-title">All Tickets</h5>
                    <p>View and manage all tickets</p>
                    <a href="/Tickets" class="btn btn-warning">View Tickets</a>
                </div>
            </div>
        </div>
    </div>
}

@if (role == "Support")
{
    <div class="row">
        <div class="col-md-6">
            <div class="card shadow mb-3">
                <div class="card-body">
                    <h5 class="card-title">Create Ticket</h5>
                    <p>Raise a new IT support ticket</p>
                    <a href="/Tickets/Create" class="btn btn-success">Create Ticket</a>
                </div>
            </div>
        </div>

        <div class="col-md-6">
            <div class="card shadow mb-3">
                <div class="card-body">
                    <h5 class="card-title">My Tickets</h5>
                    <p>Track your raised tickets</p>
                    <a href="/Tickets" class="btn btn-info">My Tickets</a>
                </div>
            </div>
        </div>
    </div>
}

@if (role == "Technician")
{
    <div class="row">
        <div class="col-md-6">
            <div class="card shadow mb-3">
                <div class="card-body">
                    <h5 class="card-title">Assigned Tickets</h5>
                    <p>View and update assigned tickets</p>
                    <a href="/Tickets" class="btn btn-warning">View Tickets</a>
                </div>
            </div>
        </div>
    </div>
}

@if (string.IsNullOrEmpty(role))
{
    <div class="alert alert-danger">
        You are not logged in.
    </div>
}
