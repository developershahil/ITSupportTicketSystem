@{
    ViewData["Title"] = "Dashboard";
   var role = Context.Session.GetString("UserRole");

    var name = Context.Session.GetString("UserName");
}


<h2 class="mb-4">Welcome @name</h2>

<div class="alert alert-info">
    Role from session: @role
</div>


@if (role == "Admin")
{
    <div class="row">
        <div class="col-md-4">
            <div class="card shadow mb-3">
                <div class="card-body">
                    <h5 class="card-title">Manage Users</h5>
                    <p>Add Customer Support & Technicians</p>
                    <a asp-controller="Users"
   asp-action="Create"
   class="btn btn-primary">
   Add User
</a>

                </div>
            </div>
        </div>


        <div class="col-md-4">
            <div class="card shadow mb-3">
                <div class="card-body">
                    <h5 class="card-title">Ticket Categories</h5>
                    <p>Manage issue categories</p>
                    <a asp-controller="TicketCategories"
   asp-action="Index"
   class="btn btn-dark">
   View Categories
</a>

                </div>
            </div>
        </div>

        <div class="col-md-4">
            <div class="card shadow mb-3">
                <div class="card-body">
                    <h5 class="card-title">All Tickets</h5>
                    <p>View and manage all tickets</p>
                    <a asp-controller="Tickets"
   asp-action="Index"
   class="btn btn-warning">
   View Tickets
</a>

                </div>
            </div>
        </div>
    </div>
}

@if (role == "Support")
{
    <div class="row">
        <div class="col-md-6">
            <div class="card shadow mb-3">
                <div class="card-body">
                    <h5 class="card-title">Create Ticket</h5>
                    <p>Raise a new IT support ticket</p>
                    <a asp-controller="Tickets"
   asp-action="Create"
   class="btn btn-success">
   Create Ticket
</a>

                </div>
            </div>
        </div>

        <div class="col-md-6">
            <div class="card shadow mb-3">
                <div class="card-body">
                    <h5 class="card-title">My Tickets</h5>
                    <p>Track your raised tickets</p>
                    <a asp-controller="Tickets"
   asp-action="Index"
   class="btn btn-info">
   My Tickets
</a>

                </div>
            </div>
        </div>
    </div>
}

@if (string.Equals(role, "Technician", StringComparison.OrdinalIgnoreCase))
{
    <div class="row">
        <div class="col-md-6">
            <div class="card shadow mb-3">
                <div class="card-body">
                    <h5 class="card-title">Assigned Tickets</h5>
                    <p>View and update assigned tickets</p>
                    <a asp-controller="Tickets"
                       asp-action="Index"
                       class="btn btn-warning">
                        View Tickets
                    </a>
                </div>
            </div>
        </div>
    </div>
}


@if (string.IsNullOrEmpty(role))
{
    <div class="alert alert-danger">
        You are not logged in.
    </div>
}
